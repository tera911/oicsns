#OICSNS 処理
##ログイン
ID、PW入力→

[登録してない場合]

1. 利用規約表示

2. ユーザ情報入力表示

3. UI表示

[登録してる場合]

1. UI表示


*`function ユーザ情報入力表示`*

1. サーバにデータ送信
2. サーバから変更出来たか通知

[変更出来た]

1. 項目に対して0が返ってくる

[変更できなかった]

1. 項目に対して0以外が返ってくる
2. 入力し直し


*`function UI表示`*

1. [チャット表示]
2. [メニューバー表示]
3. [マップ表示]
4. [キャラクター表示]
5. [他キャラクター情報取得]
6. [他キャラクター表示]

###ログインの詳細処理
すべてのメッセージ受け取りは http://127.0.0.1/wsで受ける

データのやり取りはjsonで行う。

メッセージは/gameMessage.xlsxに書いてあります。


##マップ移動
1. サーバに通知
2. サーバからデータを受信
3. Map変更用の画像表示
4. キャラクター、マップ情報初期化
5. 移動先マップ情報取得
6. 移動先キャラクター情報取得
7. 描画
##設定
1. 設定送信
2. サーバから変更出来たか通知

[変更出来た場合]

1. status = 0 が帰ってくる

[変更出来なかった]

1. おかしい項目に対して0以外の数値が返ってくる

##チャット
1. method:[allchat]で書き込み
2. これで全体にブロードキャストできる。

##アバター描画

canvasで描画

アバターはすべてサイズが共通です。

ファイルパスは /img/avatar/***.png

##Map描画
Server側のxmlで定義

`みーくん用 text`

imgサイズは自由(ゲーム画面サイズは1000x750で固定されてるのでそれ以下が推奨される。画像サイズを大きくして座標にマイナス値を指定すれば画面全体にMap画像が表示される。)

XMLにはPositionという属性が存在している

	- x, y : 画像の左上の座標 デフォルトでは0を書いている
	- width, hight : 画像のサイズ。

**とりあえず画像を準備してほしい、学校的なやつ。**

##ユーザ登録までの流れ
サーバ側でログインするユーザと新規登録するユーザでフラグ処理されている。

method:loginを送るとログインユーザ

method:duplicationを送ると新規登録ユーザ

###新規登録の流れ

1. method:[duplication]で名前の重複をチェックする。これで新規ユーザ登録のフラグが立ったのでログインは出来ない
2. status=0が帰ってきたらプロフィール設定に移る
3. method:[setprofile]でプロフィールの設定
4. これで新規ユーザ登録が完了

###ログインの流れ 
1. method:[login]でユーザ名とパスワードを送信。これ以降はユーザの登録は出来ない
2. status=0でログイン完了。各メソッドでデータが取得できる。



###memo
- すべてのアクションに対してstatusを付ける
- securityをどうしよう